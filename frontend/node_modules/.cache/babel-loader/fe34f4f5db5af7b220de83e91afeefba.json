{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elvis\\\\Desktop\\\\SupportTicketSystem\\\\SupportTicketSystem-master\\\\frontend\\\\src\\\\components\\\\TicketShow.js\";\nimport React, { Component } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Dropdown, Badge, Modal } from 'react-bootstrap';\nimport Paper from '@material-ui/core/Paper';\nimport { Button } from 'react-bootstrap';\n\nclass ShowTickets extends Component {\n  constructor() {\n    super();\n\n    this.getTicket = () => {\n      return axios.get('tickets/getTicketAll').then(response => {\n        this.setState({\n          data: response.data\n        });\n        let names = [];\n        response.data.forEach(item => {\n          names.push(item.name);\n        });\n        this.setState({\n          namesData: names\n        });\n        return response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.editSearchTerm = e => {\n      if (e.target.value) {\n        this.setState({\n          search: e.target.value\n        });\n        const newData = this.state.data.filter(item => {\n          const itemData = `${item.name.toUpperCase()} ${item.name.toUpperCase()} ${item.name.toUpperCase()}`;\n          const textData = e.target.value.toUpperCase();\n          return itemData.indexOf(textData) > -1;\n        });\n        this.setState({\n          data: newData\n        });\n      } else {\n        this.setState({\n          search: ''\n        });\n        this.getTicket();\n      }\n    };\n\n    this.handleShow = id => this.setState({\n      show: true,\n      id: id\n    });\n\n    this.state = {\n      data: [],\n      show: false,\n      message: '',\n      id: '',\n      search: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleAddMessage(id, messages) {\n    this.addMessage(id, messages);\n    this.setState({\n      show: false\n    });\n    this.getTicket();\n  }\n\n  componentDidMount() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    this.getTicket();\n    this.setState({\n      role: decoded.role\n    });\n  }\n\n  changeStatus(id, status) {\n    return axios.put('tickets/changeStatus', {\n      id,\n      status\n    }).then(response => {\n      this.getTicket();\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  statusFilter(status) {\n    return axios.post('tickets/filterStatus', {\n      status\n    }).then(response => {\n      this.setState({\n        data: response.data\n      });\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  addMessage(id, messages) {\n    return axios.post('tickets/addMessages', {\n      id,\n      messages\n    }).then(response => {\n      this.setState({\n        data: response.data\n      });\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  statusName(status) {\n    switch (status) {\n      case 0:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }\n        }, \"Opening\"));\n\n      case 1:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }\n        }, \"Waiting\"));\n\n      case 2:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }\n        }, \"Closed\"));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }\n        }, \"Opening\"));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }\n    }, this.state.role === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, \"ADMIN PAGE\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 27\n      }\n    }), \"TICKETS\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      className: \"mx-1\",\n      onClick: () => this.statusFilter(0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, \"Opening\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      className: \"mx-1\",\n      onClick: () => this.statusFilter(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, \"Waiting\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      className: \"mx-1\",\n      onClick: () => this.statusFilter(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, \"Closed\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"dark\",\n      className: \"mx-1\",\n      onClick: () => this.getTicket(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, \"ALL\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        float: 'right'\n      },\n      value: this.state.search,\n      placeholder: \"Search TicketName\",\n      type: \"text\",\n      onChange: this.editSearchTerm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, \"TicketName\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, \"Change Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 21\n      }\n    }, \"Add Message\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, row.content), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_parent\",\n      href: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      src: `http://localhost:5000/public/${row.img}`,\n      alt: \"Ticket\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 29\n      }\n    }))), row.messages.map((message, idx) => /*#__PURE__*/React.createElement(\"span\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 27\n      }\n    }, message.text)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 25\n      }\n    }, this.statusName(row.status)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      size: \"sm\",\n      variant: \"success\",\n      id: \"dropdown-basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 29\n      }\n    }, \"Change Status\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 31\n      }\n    }, \"Opening\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 31\n      }\n    }, \"Waiting\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 31\n      }\n    }, \"Closed\")))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      name: \"addButton\",\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: () => this.handleShow(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 29\n      }\n    }, \"Add Message\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 33\n      }\n    }, \"Add Message\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 35\n      }\n    }, \"Message :\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 33\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleAddMessage(this.state.id, this.state.message),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 33\n      }\n    }, \"Add Message\"))))))))))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 15\n      }\n    }, \"USER PAGE\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 26\n      }\n    }), \"TICKETS\")), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 21\n      }\n    }, \"TicketName\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 21\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, \"Add Message\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }, this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 25\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 25\n      }\n    }, row.content), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_parent\",\n      href: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      src: `http://localhost:5000/public/${row.img}`,\n      alt: \"Ticket\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 29\n      }\n    }))), row.messages.map((message, idx) => /*#__PURE__*/React.createElement(\"span\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 27\n      }\n    }, message.text)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 25\n      }\n    }, this.statusName(row.status)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      name: \"addButton\",\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: () => this.handleShow(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 29\n      }\n    }, \"Add Message\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 33\n      }\n    }, \"Add Message\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 35\n      }\n    }, \"Message :\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 33\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleAddMessage(this.state.id, this.state.message),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 33\n      }\n    }, \"Add Message\"))))))))))));\n  }\n\n}\n\nexport default ShowTickets;","map":{"version":3,"sources":["C:/Users/elvis/Desktop/SupportTicketSystem/SupportTicketSystem-master/frontend/src/components/TicketShow.js"],"names":["React","Component","jwt_decode","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Dropdown","Badge","Modal","Paper","Button","ShowTickets","constructor","getTicket","get","then","response","setState","data","names","forEach","item","push","name","namesData","catch","err","console","log","editSearchTerm","e","target","value","search","newData","state","filter","itemData","toUpperCase","textData","indexOf","handleShow","id","show","message","handleChange","bind","handleClose","handleAddMessage","messages","addMessage","componentDidMount","token","localStorage","usertoken","decoded","role","changeStatus","status","put","statusFilter","post","statusName","render","float","length","map","row","index","content","img","idx","text","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Dropdown, Badge, Modal } from 'react-bootstrap';\nimport Paper from '@material-ui/core/Paper';\nimport { Button } from 'react-bootstrap';\n\nclass ShowTickets extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n      show: false,\n      message: '',\n      id: '',\n      search: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  getTicket = () => {\n    return axios\n      .get('tickets/getTicketAll')\n      .then((response) => {\n        this.setState({\n          data: response.data,\n        });\n\n        let names = [];\n        response.data.forEach((item) => {\n          names.push(item.name);\n        });\n        this.setState({\n          namesData: names,\n        });\n        return response.data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  handleClose() {\n    this.setState({\n      show: false,\n    });\n  }\n\n  editSearchTerm = (e) => {\n    if (e.target.value) {\n      this.setState({ search: e.target.value });\n\n      const newData = this.state.data.filter((item) => {\n        const itemData = `${item.name.toUpperCase()} ${item.name.toUpperCase()} ${item.name.toUpperCase()}`;\n        const textData = e.target.value.toUpperCase();\n\n        return itemData.indexOf(textData) > -1;\n      });\n      this.setState({\n        data: newData,\n      });\n    } else {\n      this.setState({\n        search: '',\n      });\n      this.getTicket();\n    }\n  };\n\n  handleAddMessage(id, messages) {\n    this.addMessage(id, messages);\n\n    this.setState({\n      show: false,\n    });\n    this.getTicket();\n  }\n\n  handleShow = (id) => this.setState({ show: true, id: id });\n\n  componentDidMount() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n\n    this.getTicket();\n\n    this.setState({\n      role: decoded.role,\n    });\n  }\n\n  changeStatus(id, status) {\n    return axios\n      .put('tickets/changeStatus', {\n        id,\n        status,\n      })\n      .then((response) => {\n        this.getTicket();\n        return response.data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  statusFilter(status) {\n    return axios\n      .post('tickets/filterStatus', {\n        status,\n      })\n      .then((response) => {\n        this.setState({\n          data: response.data,\n        });\n        return response.data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  addMessage(id, messages) {\n    return axios\n      .post('tickets/addMessages', {\n        id,\n        messages,\n      })\n      .then((response) => {\n        this.setState({\n          data: response.data,\n        });\n        return response.data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  statusName(status) {\n    switch (status) {\n      case 0:\n        return (\n          <h5>\n            <Badge pill variant=\"primary\">\n              Opening\n            </Badge>\n          </h5>\n        );\n      case 1:\n        return (\n          <h5>\n            <Badge pill variant=\"danger\">\n              Waiting\n            </Badge>\n          </h5>\n        );\n      case 2:\n        return (\n          <h5>\n            <Badge pill variant=\"success\">\n              Closed\n            </Badge>\n          </h5>\n        );\n      default:\n        return (\n          <h5>\n            <Badge pill variant=\"primary\">\n              Opening\n            </Badge>\n          </h5>\n        );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        {this.state.role === 1 ? (\n          <div className=\"jumbotron mt-5\">\n            <div className=\"col-sm-8 mx-auto\">\n              <h1 className=\"text-center\">\n                ADMIN PAGE<br></br>TICKETS\n              </h1>\n            </div>\n\n            <Button variant=\"primary\" className=\"mx-1\" onClick={() => this.statusFilter(0)}>\n              Opening\n            </Button>\n            <Button variant=\"danger\" className=\"mx-1\" onClick={() => this.statusFilter(1)}>\n              Waiting\n            </Button>\n            <Button variant=\"success\" className=\"mx-1\" onClick={() => this.statusFilter(2)}>\n              Closed\n            </Button>\n            <Button variant=\"dark\" className=\"mx-1\" onClick={() => this.getTicket()}>\n              ALL\n            </Button>\n            <input\n              style={{ float: 'right' }}\n              value={this.state.search}\n              placeholder=\"Search TicketName\"\n              type=\"text\"\n              onChange={this.editSearchTerm}\n            />\n            <TableContainer component={Paper}>\n              <Table size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>TicketName</TableCell>\n                    <TableCell align=\"right\">Content</TableCell>\n                    <TableCell align=\"right\">Image</TableCell>\n                    <TableCell align=\"right\">Message</TableCell>\n                    <TableCell align=\"right\">Status</TableCell>\n                    <TableCell align=\"right\">Change Status</TableCell>\n                    <TableCell align=\"right\">Add Message</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {this.state.data.length > 0 &&\n                    this.state.data.map((row, index) => (\n                      <TableRow key={index}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {row.name}\n                        </TableCell>\n                        <TableCell align=\"right\">{row.content}</TableCell>\n                        <TableCell align=\"right\">\n                          <a target=\"_parent\" href={`http://localhost:5000/public/${row.img}`}>\n                            <img\n                              width=\"100px\"\n                              src={`http://localhost:5000/public/${row.img}`}\n                              alt=\"Ticket\"\n                            />\n                          </a>\n                        </TableCell>\n                        {row.messages.map((message, idx) => (\n                          <span key={idx}>{message.text}</span>\n                        ))}\n                        <TableCell align=\"right\">{this.statusName(row.status)}</TableCell>\n                        <TableCell align=\"right\">\n                          <Dropdown>\n                            <Dropdown.Toggle size=\"sm\" variant=\"success\" id=\"dropdown-basic\">\n                              Change Status\n                            </Dropdown.Toggle>\n                            <Dropdown.Menu>\n                              <Dropdown.Item onClick={() => this.changeStatus(row._id, 0)}>\n                                Opening\n                              </Dropdown.Item>\n                              <Dropdown.Item onClick={() => this.changeStatus(row._id, 1)}>\n                                Waiting\n                              </Dropdown.Item>\n                              <Dropdown.Item onClick={() => this.changeStatus(row._id, 2)}>\n                                Closed\n                              </Dropdown.Item>\n                            </Dropdown.Menu>\n                          </Dropdown>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <>\n                            <Button\n                              name=\"addButton\"\n                              size=\"sm\"\n                              variant=\"primary\"\n                              onClick={() => this.handleShow(row._id)}\n                            >\n                              Add Message\n                            </Button>\n\n                            <Modal show={this.state.show} onHide={() => this.handleClose()}>\n                              <Modal.Header closeButton>\n                                <Modal.Title>Add Message</Modal.Title>\n                              </Modal.Header>\n                              <Modal.Body>\n                                <form>\n                                  <label>\n                                    Message :\n                                    <input\n                                      type=\"text\"\n                                      name=\"message\"\n                                      value={this.state.message}\n                                      onChange={this.handleChange}\n                                    />\n                                  </label>\n                                </form>\n                              </Modal.Body>\n                              <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={() => this.handleClose()}>\n                                  Close\n                                </Button>\n                                <Button\n                                  variant=\"primary\"\n                                  onClick={() =>\n                                    this.handleAddMessage(this.state.id, this.state.message)\n                                  }\n                                >\n                                  Add Message\n                                </Button>\n                              </Modal.Footer>\n                            </Modal>\n                          </>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </div>\n        ) : (\n          <div className=\"jumbotron mt-5\">\n            <div className=\"col-sm-8 mx-auto\">\n              <h1 className=\"text-center\">\n                USER PAGE<br></br>TICKETS\n              </h1>\n            </div>\n            <TableContainer component={Paper}>\n              <Table size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>TicketName</TableCell>\n                    <TableCell align=\"right\">Content</TableCell>\n                    <TableCell align=\"right\">Image</TableCell>\n                    <TableCell align=\"right\">Message</TableCell>\n                    <TableCell align=\"right\">Status</TableCell>\n                    <TableCell align=\"right\">Add Message</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {this.state.data.length > 0 &&\n                    this.state.data.map((row, index) => (\n                      <TableRow key={index}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {row.name}\n                        </TableCell>\n                        <TableCell align=\"right\">{row.content}</TableCell>\n                        <TableCell align=\"right\">\n                          <a target=\"_parent\" href={`http://localhost:5000/public/${row.img}`}>\n                            <img\n                              width=\"100px\"\n                              src={`http://localhost:5000/public/${row.img}`}\n                              alt=\"Ticket\"\n                            />\n                          </a>\n                        </TableCell>\n                        {row.messages.map((message, idx) => (\n                          <span key={idx}>{message.text}</span>\n                        ))}\n                        <TableCell align=\"right\">{this.statusName(row.status)}</TableCell>\n                        <TableCell align=\"right\">\n                          <>\n                            <Button\n                              name=\"addButton\"\n                              size=\"sm\"\n                              variant=\"primary\"\n                              onClick={() => this.handleShow(row._id)}\n                            >\n                              Add Message\n                            </Button>\n\n                            <Modal show={this.state.show} onHide={() => this.handleClose()}>\n                              <Modal.Header closeButton>\n                                <Modal.Title>Add Message</Modal.Title>\n                              </Modal.Header>\n                              <Modal.Body>\n                                <form>\n                                  <label>\n                                    Message :\n                                    <input\n                                      type=\"text\"\n                                      name=\"message\"\n                                      value={this.state.message}\n                                      onChange={this.handleChange}\n                                    />\n                                  </label>\n                                </form>\n                              </Modal.Body>\n                              <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={() => this.handleClose()}>\n                                  Close\n                                </Button>\n                                <Button\n                                  variant=\"primary\"\n                                  onClick={() =>\n                                    this.handleAddMessage(this.state.id, this.state.message)\n                                  }\n                                >\n                                  Add Message\n                                </Button>\n                              </Modal.Footer>\n                            </Modal>\n                          </>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ShowTickets;"]},"metadata":{},"sourceType":"module"}